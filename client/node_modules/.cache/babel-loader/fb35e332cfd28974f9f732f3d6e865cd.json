{"ast":null,"code":"import _regeneratorRuntime from\"/Users/leipan/Desktop/release/React/Project/3-Blog/todolist-ts/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/leipan/Desktop/release/React/Project/3-Blog/todolist-ts/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';var baseUrl='http://localhost:4000';export var getTodos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var todos;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(baseUrl+'/todos');case 3:todos=_context.sent;return _context.abrupt(\"return\",todos);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);throw new Error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getTodos(){return _ref.apply(this,arguments);};}();export var addTodo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(formData){var todo,saveTodo;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;todo={name:formData.name,description:formData.description,status:false};_context2.next=4;return axios.post(baseUrl+'/add-todo',todo);case 4:saveTodo=_context2.sent;return _context2.abrupt(\"return\",saveTodo);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);throw new Error(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function addTodo(_x){return _ref2.apply(this,arguments);};}();export var updateTodo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(todo){var todoUpdate,updatedTodo;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;todoUpdate={status:true};_context3.next=4;return axios.put(\"\".concat(baseUrl,\"/edit-todo/\").concat(todo._id),todoUpdate);case 4:updatedTodo=_context3.sent;return _context3.abrupt(\"return\",updatedTodo);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);throw new Error(_context3.t0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function updateTodo(_x2){return _ref3.apply(this,arguments);};}();export var deleteTodo=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(_id){var deletedTodo;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.delete(\"\".concat(baseUrl,\"/delete-todo/\").concat(_id));case 3:deletedTodo=_context4.sent;return _context4.abrupt(\"return\",deletedTodo);case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);throw new Error(_context4.t0);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function deleteTodo(_x3){return _ref4.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/leipan/Desktop/release/React/Project/3-Blog/todolist-ts/client/src/API.ts"],"names":["axios","baseUrl","getTodos","get","todos","Error","addTodo","formData","todo","name","description","status","post","saveTodo","updateTodo","todoUpdate","put","_id","updatedTodo","deleteTodo","delete","deletedTodo"],"mappings":"6SAAA,MAAOA,CAAAA,KAAP,KAAqC,OAArC,CAEA,GAAMC,CAAAA,OAAe,CAAG,uBAAxB,CAEA,MAAO,IAAMC,CAAAA,QAAQ,0FAAG,mLAEgCF,CAAAA,KAAK,CAACG,GAAN,CAC5CF,OAAO,CAAG,QADkC,CAFhC,QAEVG,KAFU,+CAKTA,KALS,+DAOV,IAAIC,CAAAA,KAAJ,aAPU,qEAAH,kBAARH,CAAAA,QAAQ,0CAAd,CAWP,MAAO,IAAMI,CAAAA,OAAO,2FAAG,kBACnBC,QADmB,yJAITC,IAJS,CAIkB,CAC7BC,IAAI,CAAEF,QAAQ,CAACE,IADc,CAE7BC,WAAW,CAAEH,QAAQ,CAACG,WAFO,CAG7BC,MAAM,CAAE,KAHqB,CAJlB,wBASoCX,CAAAA,KAAK,CAACY,IAAN,CAC/CX,OAAO,CAAG,WADqC,CAE/CO,IAF+C,CATpC,QASTK,QATS,iDAaRA,QAbQ,kEAeT,IAAIR,CAAAA,KAAJ,cAfS,uEAAH,kBAAPC,CAAAA,OAAO,6CAAb,CAmBP,MAAO,IAAMQ,CAAAA,UAAU,2FAAG,kBACtBN,IADsB,kKAIZO,UAJY,CAIwB,CACtCJ,MAAM,CAAE,IAD8B,CAJxB,wBAOoCX,CAAAA,KAAK,CAACgB,GAAN,WAC/Cf,OAD+C,uBAC1BO,IAAI,CAACS,GADqB,EAElDF,UAFkD,CAPpC,QAOZG,WAPY,iDAWXA,WAXW,kEAaZ,IAAIb,CAAAA,KAAJ,cAbY,uEAAH,kBAAVS,CAAAA,UAAU,8CAAhB,CAiBP,MAAO,IAAMK,CAAAA,UAAU,2FAAG,kBACtBF,GADsB,8KAIoCjB,CAAAA,KAAK,CAACoB,MAAN,WAC/CnB,OAD+C,yBACxBgB,GADwB,EAJpC,QAIZI,WAJY,iDAOXA,WAPW,kEASZ,IAAIhB,CAAAA,KAAJ,cATY,uEAAH,kBAAVc,CAAAA,UAAU,8CAAhB","sourcesContent":["import axios, { AxiosResponse } from 'axios';\n\nconst baseUrl: string = 'http://localhost:4000';\n\nexport const getTodos = async (): Promise<AxiosResponse<ApiDataType>> => {\n    try {\n        const todos: AxiosResponse<ApiDataType> = await axios.get(\n            baseUrl + '/todos'\n        );\n        return todos;\n    } catch (error) {\n        throw new Error(error);\n    }\n};\n\nexport const addTodo = async (\n    formData: ITodo\n): Promise<AxiosResponse<ApiDataType>> => {\n    try {\n        const todo: Omit<ITodo, '_id'> = {\n            name: formData.name,\n            description: formData.description,\n            status: false,\n        };\n        const saveTodo: AxiosResponse<ApiDataType> = await axios.post(\n            baseUrl + '/add-todo',\n            todo\n        );\n        return saveTodo;\n    } catch (error) {\n        throw new Error(error);\n    }\n};\n\nexport const updateTodo = async (\n    todo: ITodo\n): Promise<AxiosResponse<ApiDataType>> => {\n    try {\n        const todoUpdate: Pick<ITodo, 'status'> = {\n            status: true,\n        };\n        const updatedTodo: AxiosResponse<ApiDataType> = await axios.put(\n            `${baseUrl}/edit-todo/${todo._id}`,\n            todoUpdate\n        );\n        return updatedTodo;\n    } catch (error) {\n        throw new Error(error);\n    }\n};\n\nexport const deleteTodo = async (\n    _id: string\n): Promise<AxiosResponse<ApiDataType>> => {\n    try {\n        const deletedTodo: AxiosResponse<ApiDataType> = await axios.delete(\n            `${baseUrl}/delete-todo/${_id}`\n        );\n        return deletedTodo;\n    } catch (error) {\n        throw new Error(error);\n    }\n};\n"]},"metadata":{},"sourceType":"module"}